<div class="container">
    <p class="text-center display-4 mb-5">Plano
        <!-- choosen plan -->

        <h2 class="text-center mt-5 mb-5">Dados de Acesso
        </h2>


    <div class="form-layout" *ngIf="!post; else forminfo" novalidate>
        <form [formGroup]="formGroup" (ngSubmit)="onSubmit(formGroup.value)" class="form">


            <div class="row">
                <div class="col">

                    <mat-form-field class="form-element">
                        <input matInput placeholder="Email" formControlName="email">
                        <mat-error *ngIf="!formGroup.controls['email'].valid && formGroup.controls['email'].touched">
                            {{ getErrorEmail() }}
                        </mat-error>
                    </mat-form-field>

                    <div class="row">
                        <div class="col">
                            <mat-form-field class="form-element">
                                <input matInput placeholder="Nome" formControlName="name">
                                <mat-error *ngIf="!name.valid && name.touched">
                                    {{ titleAlert }}
                                </mat-error>
                            </mat-form-field>
                        </div>


                        <div class="col">
                            <mat-form-field class="form-element">
                                <textarea matInput placeholder="Sobrenome" matTextareaAutosize matAutosizeMinRows="1"
                                matAutosizeMaxRows="5" formControlName="surname"></textarea>
                                <mat-error *ngIf="!name.valid && name.touched">
                                    {{ titleAlert }}
                                </mat-error>
                            </mat-form-field>
                        </div>
                    </div>

                    <mat-form-field appearance="fill" class="form dropdown-fixture mb-2">
                        <mat-label>Estado</mat-label>
                        <mat-select>
                            <mat-option value="option">Goiás</mat-option>
                            <!-- *ngIf de array do estado -->
                        </mat-select>

                    </mat-form-field>

                    <mat-form-field appearance="fill" class="form dropdown-fixture">
                        <mat-label>Cidade</mat-label>
                        <mat-select>
                            <mat-option value="option">Goiânia</mat-option>
                            <!-- *ngIf de array de cidades do estado escolhido -->
                        </mat-select>
                    </mat-form-field>

                    
                </div>

                <div class="col">
                    <div class="col">
                        <mat-form-field class="form-element">
                            <textarea matInput placeholder="Telefone" matTextareaAutosize matAutosizeMinRows="1" 
                            matAutosizeMaxRows="5" formControlName="phone"></textarea>
                            <mat-error *ngIf="!formGroup.controls['phone'].valid && formGroup.controls['phone'].touched">
                                {{ titleAlert }}
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <mat-form-field class="form-element">
                        <textarea matInput placeholder="Endereço" matTextareaAutosize matAutosizeMinRows="1"
                            matAutosizeMaxRows="5" formControlName="address"></textarea>
                        <mat-error
                            *ngIf="!formGroup.controls['surname'].valid && formGroup.controls['surname'].touched">
                            Campo precisa de preenchimendo entre 5 a 10 caracteres
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="form-element">
                        <input matInput placeholder="Senha" formControlName="password">
                        <mat-hint> Senha precisa ter no mínimo 8 digitos, pelo menos uma letra maiúscula e um número
                        </mat-hint>
                        <mat-error
                            *ngIf="!formGroup.controls['password'].valid && formGroup.controls['password'].touched">
                            {{ getErrorPassword() }}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="form-element">
                        <input matInput placeholder="Repita sua senha" formControlName="password">
                        <mat-hint>
                        </mat-hint>
                        <mat-error
                            *ngIf="!formGroup.controls['password'].valid && formGroup.controls['password'].touched">
                            {{ getSamePassword() }}
                        </mat-error>
                    </mat-form-field>

                    
                </div>
            </div>
            <hr class="my-4">

            <h2 class="text-center mt-5 mb-5">Dados do cartão </h2>

            <div class="row">
                <div class="col">
                    <mat-form-field appearance="fill" class="form dropdown-fixture">
                        <mat-label>Tarja do Cartão</mat-label>
                        <mat-select>
                            <mat-option value="option">Visa</mat-option>
                            <mat-option value="option">MasterCard</mat-option>
                            <mat-option value="option">Elo</mat-option>
                            <mat-option value="option">American Express</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col">
                    <mat-form-field class="form-element">
                        <input matInput placeholder="Número do Cartão" formControlName="cardNumber">
                        <mat-error *ngIf="!formGroup.controls['cardNumber'].valid && formGroup.controls['cardNumber'].touched">
                            {{ getErrorCardNumber() }}
                        </mat-error>
                    </mat-form-field>


                </div>
            </div>
            <hr class="my-4">
            <div class="form-element">
                <button mat-raised-button color="primary" type="submit" class="button"
                    [disabled]="!formGroup.valid">Confirmar</button>
            </div>
        </form>
    </div>
    
    <ng-template #forminfo>
        <div class="container">
            {{ post | json }}
        </div>
    </ng-template>
</div>